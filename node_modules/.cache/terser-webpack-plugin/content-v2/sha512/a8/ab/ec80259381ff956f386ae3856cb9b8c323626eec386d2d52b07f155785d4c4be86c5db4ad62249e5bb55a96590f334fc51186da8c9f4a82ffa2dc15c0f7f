{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-ff5b103a\"],{\"4f6e\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return f}));var n=r(\"1da1\"),a=r(\"d4ec\"),i=r(\"bee2\"),o=r(\"262e\"),c=r(\"2caf\"),l=(r(\"96cf\"),r(\"9ab4\")),s=r(\"6fc5\"),u=r(\"0613\"),d=r(\"b32d\"),p=function(e){return Object(d[\"a\"])({url:\"/drivers\",method:\"get\",params:e})},v=function(e){Object(o[\"a\"])(r,e);var t=Object(c[\"a\"])(r);function r(){var e;return Object(a[\"a\"])(this,r),e=t.apply(this,arguments),e.drivers=[],e}return Object(i[\"a\"])(r,[{key:\"SET_DRIVERS\",value:function(e){this.drivers=e}},{key:\"getDrivers\",value:function(){var e=Object(n[\"a\"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p();case 3:t=e.sent,r=t.data,this.SET_DRIVERS(r.drivers),e.next=11;break;case 8:throw e.prev=8,e.t0=e[\"catch\"](0),Error(e.t0);case 11:case\"end\":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()}]),r}(s[\"d\"]);Object(l[\"a\"])([s[\"c\"]],v.prototype,\"SET_DRIVERS\",null),Object(l[\"a\"])([s[\"a\"]],v.prototype,\"getDrivers\",null),v=Object(l[\"a\"])([Object(s[\"b\"])({dynamic:!0,store:u[\"a\"],name:\"driver\"})],v);var f=Object(s[\"e\"])(v)},\"7ae7\":function(e,t,r){\"use strict\";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"driver-table\",{attrs:{driverIdProp:e.groupByDriverId}})},a=[],i=r(\"d4ec\"),o=r(\"bee2\"),c=r(\"262e\"),l=r(\"2caf\"),s=r(\"9ab4\"),u=r(\"1b40\"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"table-holder\"},[r(\"DxLoadPanel\",{attrs:{position:e.loadPanelPosition,visible:e.listLoading}}),r(\"dx-data-grid\",{ref:e.dataGridRefKey,staticClass:\"grid\",attrs:{id:\"gridContainer\",\"key-expr\":\"driverId\",\"data-source\":e.list,\"show-borders\":!0,\"show-column-lines\":!0,\"row-alternation-enabled\":!0,\"column-auto-width\":!0,\"cell-hint-enabled\":!0,\"allow-column-resizing\":!0,\"allow-column-reordering\":!0},on:{saving:e.onSaving,exporting:e.exportGrid,\"toolbar-preparing\":e.onToolbarPreparing,\"editor-prepared\":e.onEditorPrepared,\"edit-canceling\":e.onEditCanceling,\"init-new-row\":e.onInitNewRow,\"cell-click\":e.onCellClick},scopedSlots:e._u([{key:\"title-header\",fn:function(t){var n=t.data;return[r(\"div\",{staticClass:\"table-header\"},[r(\"p\",{staticClass:\"table-header-text\"},[e._v(e._s(n.column.caption))])])]}},{key:\"cellTemplate\",fn:function(t){var n=t.data;return[r(\"div\",{staticStyle:{cursor:\"pointer\",color:\"blue\"},attrs:{title:n.text}},[r(\"a\",[e._v(e._s(n.text))])])]}},{key:\"licenseStatusTemplate\",fn:function(t){var n=t.data;return[r(\"el-tag\",{attrs:{type:e._f(\"driverLicenseStatusFilter\")(n.text)}},[e._v(\" \"+e._s(n.text)+\" \")])]}}])},[r(\"DxFilterRow\",{attrs:{visible:!0}}),r(\"DxSearchPanel\",{attrs:{visible:!0}}),r(\"DxGroupPanel\",{attrs:{visible:!1}}),r(\"DxExport\",{attrs:{enabled:!0}}),r(\"DxColumnChooser\",{attrs:{enabled:!0}}),r(\"DxEditing\",{attrs:{mode:\"popup\",\"allow-adding\":e.getEditAccess,\"allow-deleting\":!1,\"allow-updating\":e.getEditAccess}},[r(\"DxPopup\",{attrs:{\"show-title\":!0,width:700,height:525,title:e.popUpTitle}}),r(\"DxForm\",[r(\"DxItem\",{attrs:{\"col-count\":2,\"col-span\":2,\"item-type\":\"group\"}},[r(\"DxItem\",{attrs:{\"data-field\":\"name\"}}),r(\"DxItem\",{attrs:{\"data-field\":\"address\"}}),r(\"DxItem\",{attrs:{\"data-field\":\"licenseStatus\"}})],1)],1)],1),r(\"dx-column\",{attrs:{\"data-field\":\"name\",\"data-type\":\"string\",\"header-cell-template\":\"title-header\",caption:e.$t(\"driver.name\"),width:500}},[r(\"DxRequiredRule\")],1),r(\"dx-column\",{attrs:{\"data-field\":\"address\",\"data-type\":\"string\",\"header-cell-template\":\"title-header\",caption:e.$t(\"driver.address\"),width:500}},[r(\"DxRequiredRule\")],1),r(\"dx-column\",{attrs:{\"data-field\":\"licenseStatus\",\"data-type\":\"boolean\",\"header-cell-template\":\"title-header\",caption:e.$t(\"driver.licenseStatus\"),\"cell-template\":\"licenseStatusTemplate\"}},[r(\"dx-lookup\",{attrs:{\"data-source\":e.licenseStatusOptions,\"value-expr\":\"value\",\"display-expr\":\"name\"}}),r(\"DxRequiredRule\")],1),r(\"dx-column\",{attrs:{type:\"buttons\"}},[r(\"DxButton\",{attrs:{name:\"edit\"}})],1),r(\"dx-group-panel\",{attrs:{visible:!0}}),r(\"dx-grouping\",{attrs:{\"auto-expand-all\":!1}}),r(\"dx-pager\",{attrs:{visible:!0,\"allowed-page-sizes\":e.pageSizes,\"show-page-size-selector\":!0}}),r(\"dx-paging\",{attrs:{\"page-size\":50}})],1)],1)},p=[],v=r(\"1da1\"),f=r(\"257e\"),h=r(\"1341\"),b=r(\"7e84\"),m=(r(\"4160\"),r(\"d3b7\"),r(\"159b\"),r(\"b0c0\"),r(\"99af\"),r(\"96cf\"),r(\"2fe1\")),g=r(\"a113\"),x=r(\"4f6e\"),y=function(e){Object(c[\"a\"])(r,e);var t=Object(l[\"a\"])(r);function r(){var e,n,a;return Object(i[\"a\"])(this,r),a=t.call(this),a.gridRefKey=\"driverGrid\",a.list=[],a.licenseStatusOptions=[{value:!1,name:\"Invalid\"},{value:!0,name:\"Valid\"}],Object(h[\"a\"])((e=Object(f[\"a\"])(a),Object(b[\"a\"])(r.prototype)),\"dataGridRefKey\",a.gridRefKey,e,!0),Object(h[\"a\"])((n=Object(f[\"a\"])(a),Object(b[\"a\"])(r.prototype)),\"tableName\",\"Drivers\",n,!0),a}return Object(o[\"a\"])(r,[{key:\"drivers\",get:function(){return x[\"a\"].drivers}},{key:\"getDrivers\",value:function(){var e=Object(v[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x[\"a\"].getDrivers();case 2:case\"end\":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"getList\",value:function(){var e=Object(v[\"a\"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.listLoading=!0,this.list=[],this.drivers.forEach((function(e){t.list.push({driverId:e.id,name:e.name,address:e.address,licenseStatus:e.licenseStatus})})),this.listLoading=!1;case 4:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"onCellClick\",value:function(e){throw new Error(\"Method not implemented.\")}},{key:\"onInitNewRow\",value:function(e){throw new Error(\"Method not implemented.\")}},{key:\"onSaving\",value:function(){var e=Object(v[\"a\"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error(\"Method not implemented.\");case 1:case\"end\":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:\"created\",value:function(){this.getDrivers(),this.getList()}},{key:\"OnDriverIdPropChange\",value:function(e,t){console.log(\"driverIdProp props changed from \".concat(t,\" to \").concat(e))}},{key:\"OnDriversChange\",value:function(){this.getList()}},{key:\"OnClearFilterTriggered\",value:function(e){e&&(this.driverIdProp=void 0)}}]),r}(Object(m[\"c\"])(g[\"a\"]));Object(s[\"a\"])([Object(u[\"b\"])()],y.prototype,\"driverIdProp\",void 0),Object(s[\"a\"])([Object(u[\"d\"])(\"driverIdProp\")],y.prototype,\"OnDriverIdPropChange\",null),Object(s[\"a\"])([Object(u[\"d\"])(\"drivers\")],y.prototype,\"OnDriversChange\",null),Object(s[\"a\"])([Object(u[\"d\"])(\"clearFilterTriggered\")],y.prototype,\"OnClearFilterTriggered\",null),y=Object(s[\"a\"])([Object(u[\"a\"])({name:\"DriverTable\",components:{}})],y);var D=y,k=D,O=(r(\"b76b\"),r(\"2877\")),w=Object(O[\"a\"])(k,d,p,!1,null,null,null),j=w.exports,R=function(e){Object(c[\"a\"])(r,e);var t=Object(l[\"a\"])(r);function r(){return Object(i[\"a\"])(this,r),t.apply(this,arguments)}return Object(o[\"a\"])(r,[{key:\"groupByDriverId\",get:function(){return this.driverIdProp}}]),r}(u[\"c\"]);Object(s[\"a\"])([Object(u[\"b\"])()],R.prototype,\"driverIdProp\",void 0),R=Object(s[\"a\"])([Object(u[\"a\"])({name:\"Driver\",components:{DriverTable:j}})],R);var P=R,I=P,S=Object(O[\"a\"])(I,n,a,!1,null,null,null);t[\"default\"]=S.exports},\"94e0\":function(e,t,r){},a113:function(e,t,r){\"use strict\";var n,a=r(\"1da1\"),i=r(\"d4ec\"),o=r(\"bee2\"),c=r(\"262e\"),l=r(\"2caf\"),s=(r(\"96cf\"),r(\"4de4\"),r(\"d3b7\"),r(\"7db0\"),r(\"b0c0\"),r(\"99af\"),r(\"9ab4\")),u=r(\"1b40\"),d=r(\"d30a\"),p=r(\"66dc\"),v=r(\"5bba\"),f=(r(\"493c\"),r(\"e75d\")),h=r(\"e8ae\"),b=r(\"21a6\"),m=r.n(b),g=r(\"b047\"),x=r.n(g),y=r(\"6b87\");(function(e){e[e[\"Entity\"]=1]=\"Entity\",e[e[\"EntityChild\"]=2]=\"EntityChild\",e[e[\"EntityStock\"]=4]=\"EntityStock\",e[e[\"Model\"]=8]=\"Model\",e[e[\"Driver\"]=16]=\"Driver\",e[e[\"Platform\"]=32]=\"Platform\",e[e[\"PlatformAttr\"]=64]=\"PlatformAttr\",e[e[\"PlatformProtocol\"]=128]=\"PlatformProtocol\"})(n||(n={}));var D=function(e){Object(c[\"a\"])(r,e);var t=Object(l[\"a\"])(r);function r(){var e;return Object(i[\"a\"])(this,r),e=t.apply(this,arguments),e.dataGridRefKey=\"\",e.gridTableId=-1,e.loadPanelPosition={of:\"#gridContainer\"},e.listLoading=!1,e.popUpTitleState=\"New\",e.titleLockState=!1,e.editorTypeLockState=!1,e.tableName=\"\",e.isEditorTypeInsert=!0,e.pageSizes=[10,25,50,100],e.clickedRowIdState=-1,e.clearFilterTriggered=null,e.statusOptions=[{id:0,name:\"Inactive\"},{id:1,name:\"Active\"}],e}return Object(o[\"a\"])(r,[{key:\"getEditAccess\",get:function(){return Object(y[\"a\"])()}},{key:\"clickedRowId\",get:function(){return this.clickedRowIdState},set:function(e){this.clickedRowIdState=e}},{key:\"popUpTitle\",get:function(){return this.popUpTitleState},set:function(e){this.popUpTitleState=e}},{key:\"titleLocked\",get:function(){return this.titleLockState},set:function(e){this.titleLockState=e}},{key:\"editorTypeLock\",get:function(){return this.editorTypeLockState},set:function(e){this.editorTypeLockState=e}},{key:\"dataGrid\",get:function(){var e=this.dataGridRefKey,t=this.$refs[e];return t.$_instance}},{key:\"filterByDriver\",value:function(){try{this.dataGrid.filter([\"driverid\",\"=\",this.driverId])}catch(e){console.error(e)}}},{key:\"initFilter\",value:function(){var e=Object(a[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:void 0!==this.driverId?this.filterByDriver():this.clearFilter();case 1:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"getLookups\",value:function(){var e=Object(a[\"a\"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt(\"return\",null);case 1:case\"end\":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:\"clearFilter\",value:function(){this.dataGrid.clearFilter();try{this.driverId=void 0}catch(e){console.log(e)}}},{key:\"exportGrid\",value:function(){var e=Object(a[\"a\"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=\"\".concat(this.tableName,\".xlsx\"),n=new h[\"Workbook\"],a=n.addWorksheet(\"Main sheet\"),Object(f[\"a\"])({worksheet:a,component:t.component}).then((function(){n.xlsx.writeBuffer().then((function(e){m.a.saveAs(new Blob([e],{type:\"application/octet-stream\"}),r)}))})),t.cancel=!0;case 5:case\"end\":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:\"onEditCanceling\",value:function(e){this.titleLocked=!1,this.editorTypeLock=!1}},{key:\"onEditorPrepared\",value:function(e){var t=this,r=x()((function(e){t.titleLocked||(t.popUpTitle=e,t.titleLocked=!0)}),200),n=x()((function(e){t.editorTypeLock||(t.isEditorTypeInsert=e,t.editorTypeLock=!0),console.log(\"is editor type insert: \".concat(t.isEditorTypeInsert))}),200);try{e.row.isNewRow?(r(\"New \"+this.tableName),n(!0)):(r(\"Update \"+this.tableName),n(!1))}catch(e){}}},{key:\"onInitNewRow\",value:function(e){e.data.status=1}},{key:\"onToolbarPreparing\",value:function(e){var t=this,r=e.toolbarOptions.items.find((function(e){return\"groupPanel\"===e.name})),n={location:\"after\",widget:\"dxButton\",options:{icon:\"filter\",text:\"Clear Filter\",onClick:function(){t.clearFilter(),t.clearFilterTriggered=!0}}},a=e.toolbarOptions.items.find((function(e){return\"searchPanel\"===e.name})),i=e.toolbarOptions.items.find((function(e){return\"addRowButton\"===e.name})),o=e.toolbarOptions.items.find((function(e){return\"columnChooserButton\"===e.name})),c=e.toolbarOptions.items.find((function(e){return\"exportButton\"===e.name}));try{var l=[];o&&l.push(o),n&&l.push(n),a&&l.push(a),r&&l.push(r),i&&l.push(i),l.push(c),e.toolbarOptions.items=l}catch(e){console.log(e)}}},{key:\"created\",value:function(){this.getLookups()}},{key:\"mounted\",value:function(){this.initFilter()}},{key:\"OnDriverIdChange\",value:function(e,t){console.log(\"[vueDevex mixin] driver id props changed from \".concat(t,\" to \").concat(e)),e?this.filterByDriver():this.clearFilter()}}]),r}(u[\"c\"]);Object(s[\"a\"])([Object(u[\"b\"])()],D.prototype,\"driverId\",void 0),Object(s[\"a\"])([Object(u[\"d\"])(\"driverId\")],D.prototype,\"OnDriverIdChange\",null),D=Object(s[\"a\"])([Object(u[\"a\"])({name:\"VueDevex\",components:{DxDataGrid:d[\"DxDataGrid\"],DxColumn:d[\"DxColumn\"],DxGrouping:d[\"DxGrouping\"],DxGroupPanel:d[\"DxGroupPanel\"],DxPager:d[\"DxPager\"],DxPaging:d[\"DxPaging\"],DxSearchPanel:d[\"DxSearchPanel\"],DxEditing:d[\"DxEditing\"],DxLookup:d[\"DxLookup\"],DxLoadPanel:v[\"DxLoadPanel\"],DxExport:d[\"DxExport\"],DxPopup:d[\"DxPopup\"],DxForm:d[\"DxForm\"],DxItem:p[\"DxItem\"],DxRequiredRule:d[\"DxRequiredRule\"],DxEmailRule:d[\"DxEmailRule\"],DxPatternRule:d[\"DxPatternRule\"],DxAsyncRule:d[\"DxAsyncRule\"],DxButton:d[\"DxButton\"],DxFilterRow:d[\"DxFilterRow\"],DxMasterDetail:d[\"DxMasterDetail\"],DxColumnChooser:d[\"DxColumnChooser\"],DxSummary:d[\"DxSummary\"],DxTotalItem:d[\"DxTotalItem\"],DxScrolling:d[\"DxScrolling\"]}})],D),t[\"a\"]=D},b76b:function(e,t,r){\"use strict\";r(\"94e0\")}}]);","extractedComments":[]}