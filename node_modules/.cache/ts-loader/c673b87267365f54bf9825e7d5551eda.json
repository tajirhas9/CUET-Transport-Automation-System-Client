{"remainingRequest":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/babel-loader/lib/index.js!/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/ts-loader/index.js??ref--15-2!/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tajirhas9/varsity/software_engineering/ctas/client/src/pwa/components/ServiceWorkerUpdatePopup.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/src/pwa/components/ServiceWorkerUpdatePopup.vue","mtime":1640465303000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/babel.config.js","mtime":1640465303000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS90YWppcmhhczkvdmFyc2l0eS9zb2Z0d2FyZV9lbmdpbmVlcmluZy9jdGFzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3RhamlyaGFzOS92YXJzaXR5L3NvZnR3YXJlX2VuZ2luZWVyaW5nL2N0YXMvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvdGFqaXJoYXM5L3ZhcnNpdHkvc29mdHdhcmVfZW5naW5lZXJpbmcvY3Rhcy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS90YWppcmhhczkvdmFyc2l0eS9zb2Z0d2FyZV9lbmdpbmVlcmluZy9jdGFzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwoKdmFyIGRlZmF1bHRfMSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhkZWZhdWx0XzEsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKGRlZmF1bHRfMSk7CgogIGZ1bmN0aW9uIGRlZmF1bHRfMSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgZGVmYXVsdF8xKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMucmVmcmVzaGluZyA9IGZhbHNlOwogICAgX3RoaXMubm90aWZpY2F0aW9uVGV4dCA9ICdOZXcgY29udGVudCBpcyBhdmFpbGFibGUhJzsKICAgIF90aGlzLnJlZnJlc2hCdXR0b25UZXh0ID0gJ1JlZnJlc2gnOwogICAgX3RoaXMucmVnaXN0cmF0aW9uID0gbnVsbDsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhkZWZhdWx0XzEsIFt7CiAgICBrZXk6ICJjcmVhdGVkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIExpc3RlbiBmb3Igc3dVcGRhdGVkIGV2ZW50IGFuZCBkaXNwbGF5IHJlZnJlc2ggbm90aWZpY2F0aW9uIGFzIHJlcXVpcmVkLgogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzd1VwZGF0ZWQnLCB0aGlzLnNob3dSZWZyZXNoVUksIHsKICAgICAgICBvbmNlOiB0cnVlCiAgICAgIH0pOyAvLyBSZWZyZXNoIGFsbCBvcGVuIGFwcCB0YWJzIHdoZW4gYSBuZXcgc2VydmljZSB3b3JrZXIgaXMgaW5zdGFsbGVkLgoKICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuYWRkRXZlbnRMaXN0ZW5lcignY29udHJvbGxlcmNoYW5nZScsIGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMyLnJlZnJlc2hpbmcpIHJldHVybjsKICAgICAgICBfdGhpczIucmVmcmVzaGluZyA9IHRydWU7CiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZW5kZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHsvLyBBdm9pZCB3YXJuaW5nIGZvciBtaXNzaW5nIHRlbXBsYXRlCiAgICB9CiAgfSwgewogICAga2V5OiAic2hvd1JlZnJlc2hVSSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1JlZnJlc2hVSShlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgLy8gRGlzcGxheSBhIG5vdGlmaWNhdGlvbiBpbnZpdGluZyB0aGUgdXNlciB0byByZWZyZXNoL3JlbG9hZCB0aGUgYXBwIGR1ZQogICAgICAvLyB0byBhbiBhcHAgdXBkYXRlIGJlaW5nIGF2YWlsYWJsZS4KICAgICAgLy8gVGhlIG5ldyBzZXJ2aWNlIHdvcmtlciBpcyBpbnN0YWxsZWQsIGJ1dCBub3QgeWV0IGFjdGl2ZS4KICAgICAgLy8gU3RvcmUgdGhlIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gaW5zdGFuY2UgZm9yIGxhdGVyIHVzZS4KICAgICAgdmFyIGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgICB0aGlzLnJlZ2lzdHJhdGlvbiA9IGUuZGV0YWlsOwogICAgICB0aGlzLiRub3RpZnkuaW5mbyh7CiAgICAgICAgdGl0bGU6ICdVcGRhdGUgYXZhaWxhYmxlJywKICAgICAgICBtZXNzYWdlOiBoKCdkaXYnLCB7CiAgICAgICAgICAiY2xhc3MiOiAnc3ctdXBkYXRlLXBvcHVwJwogICAgICAgIH0sIFt0aGlzLm5vdGlmaWNhdGlvblRleHQsIGgoJ2JyJyksIGgoJ2J1dHRvbicsIHsKICAgICAgICAgIG9uOiB7CiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiBjbGljayhlKSB7CiAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwoKICAgICAgICAgICAgICBfdGhpczMucmVmcmVzaEFwcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgdGhpcy5yZWZyZXNoQnV0dG9uVGV4dCldKSwKICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcsCiAgICAgICAgZHVyYXRpb246IDAKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAicmVmcmVzaEFwcCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaEFwcCgpIHsKICAgICAgLy8gUHJvdGVjdCBhZ2FpbnN0IG1pc3NpbmcgcmVnaXN0cmF0aW9uLndhaXRpbmcuCiAgICAgIGlmICghdGhpcy5yZWdpc3RyYXRpb24gfHwgIXRoaXMucmVnaXN0cmF0aW9uLndhaXRpbmcpIHJldHVybjsKICAgICAgdGhpcy5yZWdpc3RyYXRpb24ud2FpdGluZy5wb3N0TWVzc2FnZSgnc2tpcFdhaXRpbmcnKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBkZWZhdWx0XzE7Cn0oVnVlKTsKCmRlZmF1bHRfMSA9IF9fZGVjb3JhdGUoW0NvbXBvbmVudCh7CiAgbmFtZTogJ1NlcnZpY2VXb3JrZXJVcGRhdGVQb3B1cCcKfSldLCBkZWZhdWx0XzEpOwpleHBvcnQgZGVmYXVsdCBkZWZhdWx0XzE7"},{"version":3,"sources":["/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tajirhas9/varsity/software_engineering/ctas/client/src/pwa/components/ServiceWorkerUpdatePopup.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;AACA,SAAS,SAAT,EAAoB,GAApB,QAA+B,wBAA/B;;AAKA,IAAA,SAAA;AAAA;;AAAA;;AAAA,uBAAA;AAAA;;AAAA;;;AACU,UAAA,UAAA,GAAa,KAAb;AACA,UAAA,gBAAA,GAAmB,2BAAnB;AACA,UAAA,iBAAA,GAAoB,SAApB;AACA,UAAA,YAAA,GAAiD,IAAjD;AAJV;AAoDC;;AApDD;AAAA;AAAA,WAME,mBAAO;AAAA;;AACL;AACA,MAAA,QAAQ,CAAC,gBAAT,CAA0B,WAA1B,EAAuC,KAAK,aAA5C,EAA2D;AAAE,QAAA,IAAI,EAAE;AAAR,OAA3D,EAFK,CAGL;;AACA,MAAA,SAAS,CAAC,aAAV,CAAwB,gBAAxB,CAAyC,kBAAzC,EAA6D,YAAK;AAChE,YAAI,MAAI,CAAC,UAAT,EAAqB;AACrB,QAAA,MAAI,CAAC,UAAL,GAAkB,IAAlB;AACA,QAAA,MAAM,CAAC,QAAP,CAAgB,MAAhB;AACD,OAJD;AAKD;AAfH;AAAA;AAAA,WAiBE,kBAAM,CACJ;AACD;AAnBH;AAAA;AAAA,WAqBU,uBAAc,CAAd,EAAsB;AAAA;;AAC5B;AACA;AACA;AACA;AACA,UAAM,CAAC,GAAG,KAAK,cAAf;AACA,WAAK,YAAL,GAAqB,CAAiB,CAAC,MAAvC;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB;AAChB,QAAA,KAAK,EAAE,kBADS;AAEhB,QAAA,OAAO,EAAE,CAAC,CAAC,KAAD,EAAQ;AAAE,mBAAO;AAAT,SAAR,EAAsC,CAC9C,KAAK,gBADyC,EAE9C,CAAC,CAAC,IAAD,CAF6C,EAG9C,CAAC,CAAC,QAAD,EAAW;AACV,UAAA,EAAE,EAAE;AACF,YAAA,KAAK,EAAE,eAAC,CAAD,EAAa;AAClB,cAAA,CAAC,CAAC,cAAF;;AACA,cAAA,MAAI,CAAC,UAAL;AACD;AAJC;AADM,SAAX,EAOE,KAAK,iBAPP,CAH6C,CAAtC,CAFM;AAchB,QAAA,QAAQ,EAAE,cAdM;AAehB,QAAA,QAAQ,EAAE;AAfM,OAAlB;AAiBD;AA7CH;AAAA;AAAA,WA+CU,sBAAU;AAChB;AACA,UAAI,CAAC,KAAK,YAAN,IAAsB,CAAC,KAAK,YAAL,CAAkB,OAA7C,EAAsD;AACtD,WAAK,YAAL,CAAkB,OAAlB,CAA0B,WAA1B,CAAsC,aAAtC;AACD;AAnDH;;AAAA;AAAA,EAA6B,GAA7B,CAAA;;AAAA,SAAA,GAAA,UAAA,CAAA,CAHC,SAAS,CAAC;AACT,EAAA,IAAI,EAAE;AADG,CAAD,CAGV,CAAA,EAoDC,SApDD,CAAA","sourcesContent":["\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'ServiceWorkerUpdatePopup'\n})\nexport default class extends Vue {\n  private refreshing = false\n  private notificationText = 'New content is available!'\n  private refreshButtonText = 'Refresh'\n  private registration: ServiceWorkerRegistration | null = null\n\n  created() {\n    // Listen for swUpdated event and display refresh notification as required.\n    document.addEventListener('swUpdated', this.showRefreshUI, { once: true })\n    // Refresh all open app tabs when a new service worker is installed.\n    navigator.serviceWorker.addEventListener('controllerchange', () => {\n      if (this.refreshing) return\n      this.refreshing = true\n      window.location.reload()\n    })\n  }\n\n  render() {\n    // Avoid warning for missing template\n  }\n\n  private showRefreshUI(e: Event) {\n    // Display a notification inviting the user to refresh/reload the app due\n    // to an app update being available.\n    // The new service worker is installed, but not yet active.\n    // Store the ServiceWorkerRegistration instance for later use.\n    const h = this.$createElement\n    this.registration = (e as CustomEvent).detail\n    this.$notify.info({\n      title: 'Update available',\n      message: h('div', { class: 'sw-update-popup' }, [\n        this.notificationText,\n        h('br'),\n        h('button', {\n          on: {\n            click: (e: Event) => {\n              e.preventDefault()\n              this.refreshApp()\n            }\n          }\n        }, this.refreshButtonText)\n      ]),\n      position: 'bottom-right',\n      duration: 0\n    })\n  }\n\n  private refreshApp() {\n    // Protect against missing registration.waiting.\n    if (!this.registration || !this.registration.waiting) return\n    this.registration.waiting.postMessage('skipWaiting')\n  }\n}\n"],"sourceRoot":""}]}