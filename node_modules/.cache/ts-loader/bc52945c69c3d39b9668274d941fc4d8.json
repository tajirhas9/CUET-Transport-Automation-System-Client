{"remainingRequest":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/babel-loader/lib/index.js!/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/ts-loader/index.js??ref--15-2!/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/eslint-loader/index.js??ref--14-0!/home/tajirhas9/varsity/software_engineering/ctas/client/src/store/modules/user.ts","dependencies":[{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/src/store/modules/user.ts","mtime":1640465303000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/babel.config.js","mtime":1640465303000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3RhamlyaGFzOS92YXJzaXR5L3NvZnR3YXJlX2VuZ2luZWVyaW5nL2N0YXMvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS90YWppcmhhczkvdmFyc2l0eS9zb2Z0d2FyZV9lbmdpbmVlcmluZy9jdGFzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL3RhamlyaGFzOS92YXJzaXR5L3NvZnR3YXJlX2VuZ2luZWVyaW5nL2N0YXMvY2xpZW50L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL2hvbWUvdGFqaXJoYXM5L3ZhcnNpdHkvc29mdHdhcmVfZW5naW5lZXJpbmcvY3Rhcy9jbGllbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzLmpzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvaG9tZS90YWppcmhhczkvdmFyc2l0eS9zb2Z0d2FyZV9lbmdpbmVlcmluZy9jdGFzL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IFZ1ZXhNb2R1bGUsIE1vZHVsZSwgQWN0aW9uLCBNdXRhdGlvbiwgZ2V0TW9kdWxlIH0gZnJvbSAndnVleC1tb2R1bGUtZGVjb3JhdG9ycyc7CmltcG9ydCB7IGdldFVzZXJJbmZvLCBsb2dpbiwgbG9nb3V0IH0gZnJvbSAnQC9hcGkvdXNlcnMnOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9jb29raWVzJzsKaW1wb3J0IHJvdXRlciwgeyByZXNldFJvdXRlciB9IGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHsgUGVybWlzc2lvbk1vZHVsZSB9IGZyb20gJy4vcGVybWlzc2lvbic7CmltcG9ydCB7IFRhZ3NWaWV3TW9kdWxlIH0gZnJvbSAnLi90YWdzLXZpZXcnOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IFJvbGVzIH0gZnJvbSAnQC9hcGkvZW51bXMnOwoKdmFyIFVzZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWV4TW9kdWxlKSB7CiAgX2luaGVyaXRzKFVzZXIsIF9WdWV4TW9kdWxlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihVc2VyKTsKCiAgZnVuY3Rpb24gVXNlcigpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVXNlcik7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnRva2VuID0gZ2V0VG9rZW4oKSB8fCAnJzsKICAgIF90aGlzLnVzZXJuYW1lID0gJyc7CiAgICBfdGhpcy5pZCA9IC0xOwogICAgX3RoaXMucm9sZSA9IFJvbGVzLnVuZGVmaW5lZDsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhVc2VyLCBbewogICAga2V5OiAiU0VUX1RPS0VOIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBTRVRfVE9LRU4odG9rZW4pIHsKICAgICAgdGhpcy50b2tlbiA9IHRva2VuOwogICAgfQogIH0sIHsKICAgIGtleTogIlNFVF9VU0VSTkFNRSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gU0VUX1VTRVJOQU1FKHVzZXJuYW1lKSB7CiAgICAgIHRoaXMudXNlcm5hbWUgPSB1c2VybmFtZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJTRVRfUk9MRSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gU0VUX1JPTEUocm9sZSkgewogICAgICB0aGlzLnJvbGUgPSByb2xlOwogICAgfQogIH0sIHsKICAgIGtleTogIlNFVF9JRCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gU0VUX0lEKGlkKSB7CiAgICAgIHRoaXMuaWQgPSBpZDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJMb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX0xvZ2luID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHVzZXJJbmZvKSB7CiAgICAgICAgdmFyIHVzZXJuYW1lLCBwYXNzd29yZCwgX3lpZWxkJGxvZ2luLCBkYXRhLCB1c2VyOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB1c2VybmFtZSA9IHVzZXJJbmZvLnVzZXJuYW1lLCBwYXNzd29yZCA9IHVzZXJJbmZvLnBhc3N3b3JkOwogICAgICAgICAgICAgICAgdXNlcm5hbWUgPSB1c2VybmFtZS50cmltKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2luKHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfeWllbGQkbG9naW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRsb2dpbi5kYXRhOwogICAgICAgICAgICAgICAgdXNlciA9IGRhdGEudXNlcjsKICAgICAgICAgICAgICAgIHNldFRva2VuKGRhdGEuYWNjZXNzVG9rZW4pOwogICAgICAgICAgICAgICAgdGhpcy5TRVRfVE9LRU4oZGF0YS5hY2Nlc3NUb2tlbik7CiAgICAgICAgICAgICAgICB0aGlzLlNFVF9VU0VSTkFNRSh1c2VyLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIHRoaXMuU0VUX0lEKHVzZXIuaWQpOwogICAgICAgICAgICAgICAgdGhpcy5TRVRfUk9MRSh1c2VyLnJvbGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoX2NvbnRleHQudDApOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1syLCAxNV1dKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gTG9naW4oX3gpIHsKICAgICAgICByZXR1cm4gX0xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBMb2dpbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIkdldFVzZXJJbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfR2V0VXNlckluZm8gPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBsb2NhbFRva2VuLCBfeWllbGQkZ2V0VXNlckluZm8sIGRhdGEsIHVzZXI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnRva2VuID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBsb2NhbFRva2VuID0gZ2V0VG9rZW4oKSB8fCAnJzsKCiAgICAgICAgICAgICAgICBpZiAoIShsb2NhbFRva2VuID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignR2V0VXNlckluZm86IHRva2VuIGlzIHVuZGVmaW5lZCEnKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdGhpcy5TRVRfVE9LRU4obG9jYWxUb2tlbik7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRVc2VySW5mbygpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfeWllbGQkZ2V0VXNlckluZm8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkZ2V0VXNlckluZm8uZGF0YTsKICAgICAgICAgICAgICAgIHVzZXIgPSBkYXRhLnVzZXI7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKICAgICAgICAgICAgICAgIHRoaXMuU0VUX1VTRVJOQU1FKHVzZXIudXNlcm5hbWUpOwogICAgICAgICAgICAgICAgdGhpcy5TRVRfSUQodXNlci5pZCk7CiAgICAgICAgICAgICAgICB0aGlzLlNFVF9ST0xFKHVzZXIucm9sZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDE3OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDUpOwogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgdXNlciBpbmZvJyk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMsIFtbNSwgMTddXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIEdldFVzZXJJbmZvKCkgewogICAgICAgIHJldHVybiBfR2V0VXNlckluZm8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIEdldFVzZXJJbmZvOwogICAgfSgpCiAgfSwgewogICAga2V5OiAiUmVzZXRUb2tlbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gUmVzZXRUb2tlbigpIHsKICAgICAgcmVtb3ZlVG9rZW4oKTsKICAgICAgdGhpcy5TRVRfVE9LRU4oJycpOwogICAgICB0aGlzLlNFVF9ST0xFKC0xKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJDaGFuZ2VSb2xlcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX0NoYW5nZVJvbGVzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMyhyb2xlKSB7CiAgICAgICAgdmFyIHRva2VuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyBEeW5hbWljYWxseSBtb2RpZnkgcGVybWlzc2lvbnMKICAgICAgICAgICAgICAgIHRva2VuID0gcm9sZSArICctdG9rZW4nOwogICAgICAgICAgICAgICAgdGhpcy5TRVRfVE9LRU4odG9rZW4pOwogICAgICAgICAgICAgICAgc2V0VG9rZW4odG9rZW4pOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuR2V0VXNlckluZm8oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzZXRSb3V0ZXIoKTsgLy8gR2VuZXJhdGUgZHluYW1pYyBhY2Nlc3NpYmxlIHJvdXRlcyBiYXNlZCBvbiByb2xlcwoKICAgICAgICAgICAgICAgIFBlcm1pc3Npb25Nb2R1bGUuR2VuZXJhdGVSb3V0ZXModGhpcy5yb2xlKTsgLy8gQWRkIGdlbmVyYXRlZCByb3V0ZXMKCiAgICAgICAgICAgICAgICBQZXJtaXNzaW9uTW9kdWxlLmR5bmFtaWNSb3V0ZXMuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICAgICAgICAgICAgcm91dGVyLmFkZFJvdXRlKHJvdXRlKTsKICAgICAgICAgICAgICAgIH0pOyAvLyBSZXNldCB2aXNpdGVkIHZpZXdzIGFuZCBjYWNoZWQgdmlld3MKCiAgICAgICAgICAgICAgICBUYWdzVmlld01vZHVsZS5kZWxBbGxWaWV3cygpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBDaGFuZ2VSb2xlcyhfeDIpIHsKICAgICAgICByZXR1cm4gX0NoYW5nZVJvbGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBDaGFuZ2VSb2xlczsKICAgIH0oKQogIH0sIHsKICAgIGtleTogIkxvZ091dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX0xvZ091dCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHRoaXMudG9rZW4gPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdMb2dPdXQ6IHRva2VuIGlzIHVuZGVmaW5lZCEnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGxvZ291dCgpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZW1vdmVUb2tlbigpOwogICAgICAgICAgICAgICAgcmVzZXRSb3V0ZXIoKTsgLy8gUmVzZXQgdmlzaXRlZCB2aWV3cyBhbmQgY2FjaGVkIHZpZXdzCgogICAgICAgICAgICAgICAgVGFnc1ZpZXdNb2R1bGUuZGVsQWxsVmlld3MoKTsKICAgICAgICAgICAgICAgIHRoaXMuU0VUX1RPS0VOKCcnKTsKICAgICAgICAgICAgICAgIHRoaXMuU0VUX1JPTEUoLTEpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBMb2dPdXQoKSB7CiAgICAgICAgcmV0dXJuIF9Mb2dPdXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIExvZ091dDsKICAgIH0oKQogIH1dKTsKCiAgcmV0dXJuIFVzZXI7Cn0oVnVleE1vZHVsZSk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbl0sIFVzZXIucHJvdG90eXBlLCAiU0VUX1RPS0VOIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbl0sIFVzZXIucHJvdG90eXBlLCAiU0VUX1VTRVJOQU1FIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtNdXRhdGlvbl0sIFVzZXIucHJvdG90eXBlLCAiU0VUX1JPTEUiLCBudWxsKTsKCl9fZGVjb3JhdGUoW011dGF0aW9uXSwgVXNlci5wcm90b3R5cGUsICJTRVRfSUQiLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIFVzZXIucHJvdG90eXBlLCAiTG9naW4iLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIFVzZXIucHJvdG90eXBlLCAiR2V0VXNlckluZm8iLCBudWxsKTsKCl9fZGVjb3JhdGUoW0FjdGlvbl0sIFVzZXIucHJvdG90eXBlLCAiUmVzZXRUb2tlbiIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgVXNlci5wcm90b3R5cGUsICJDaGFuZ2VSb2xlcyIsIG51bGwpOwoKX19kZWNvcmF0ZShbQWN0aW9uXSwgVXNlci5wcm90b3R5cGUsICJMb2dPdXQiLCBudWxsKTsKClVzZXIgPSBfX2RlY29yYXRlKFtNb2R1bGUoewogIGR5bmFtaWM6IHRydWUsCiAgc3RvcmU6IHN0b3JlLAogIG5hbWU6ICd1c2VyJwp9KV0sIFVzZXIpOwpleHBvcnQgdmFyIFVzZXJNb2R1bGUgPSBnZXRNb2R1bGUoVXNlcik7"},{"version":3,"sources":["/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/eslint-loader/index.js??ref--14-0!/home/tajirhas9/varsity/software_engineering/ctas/client/src/store/modules/user.ts"],"names":[],"mappings":"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","sourcesContent":["import { VuexModule, Module, Action, Mutation, getModule } from 'vuex-module-decorators'\nimport { getUserInfo, login, logout } from '@/api/users'\nimport { getToken, setToken, removeToken } from '@/utils/cookies'\nimport router, { resetRouter } from '@/router'\nimport { PermissionModule } from './permission'\nimport { TagsViewModule } from './tags-view'\nimport store from '@/store'\nimport { Roles } from '@/api/enums'\n\nexport interface IUserState {\n  token: string\n  id: number\n  username: string\n  role: Roles\n}\n\n@Module({ dynamic: true, store, name: 'user' })\nclass User extends VuexModule implements IUserState {\n  public token = getToken() || ''\n  public username = ''\n  public id = -1\n  public role = Roles.undefined\n\n  @Mutation\n  private SET_TOKEN(token: string) {\n    this.token = token\n  }\n\n  @Mutation\n  private SET_USERNAME(username: string) {\n    this.username = username\n  }\n\n  @Mutation\n  private SET_ROLE(role: number) {\n    this.role = role\n  }\n\n  @Mutation\n  private SET_ID(id: number) {\n    this.id = id\n  }\n\n  @Action\n  public async Login(userInfo: { username: string, password: string}) {\n    let { username, password } = userInfo\n    username = username.trim()\n    try {\n      const { data } = await login({ username, password })\n      const user = data.user\n      setToken(data.accessToken)\n      this.SET_TOKEN(data.accessToken)\n      this.SET_USERNAME(user.username)\n      this.SET_ID(user.id)\n      this.SET_ROLE(user.role)\n    } catch (e: any) {\n      throw Error(e)\n    }\n  }\n\n  @Action\n  public async GetUserInfo() {\n    if (this.token === '') {\n      const localToken = getToken() || ''\n      if (localToken === '') {\n        throw Error('GetUserInfo: token is undefined!')\n      }\n      this.SET_TOKEN(localToken)\n    }\n    try {\n      const { data } = await getUserInfo()\n      const user = data.user\n      console.log(user)\n      this.SET_USERNAME(user.username)\n      this.SET_ID(user.id)\n      this.SET_ROLE(user.role)\n    } catch (e) {\n      throw Error('Failed to get user info')\n    }\n  }\n\n  @Action\n  public ResetToken() {\n    removeToken()\n    this.SET_TOKEN('')\n    this.SET_ROLE(-1)\n  }\n\n  @Action\n  public async ChangeRoles(role: string) {\n    // Dynamically modify permissions\n    const token = role + '-token'\n    this.SET_TOKEN(token)\n    setToken(token)\n    await this.GetUserInfo()\n    resetRouter()\n    // Generate dynamic accessible routes based on roles\n    PermissionModule.GenerateRoutes(this.role)\n    // Add generated routes\n    PermissionModule.dynamicRoutes.forEach(route => {\n      router.addRoute(route)\n    })\n    // Reset visited views and cached views\n    TagsViewModule.delAllViews()\n  }\n\n  @Action\n  public async LogOut() {\n    if (this.token === '') {\n      throw Error('LogOut: token is undefined!')\n    }\n    await logout()\n    removeToken()\n    resetRouter()\n\n    // Reset visited views and cached views\n    TagsViewModule.delAllViews()\n    this.SET_TOKEN('')\n    this.SET_ROLE(-1)\n  }\n}\n\nexport const UserModule = getModule(User)\n"],"sourceRoot":""}]}