{"remainingRequest":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tajirhas9/varsity/software_engineering/ctas/client/src/views/login/index.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/src/views/login/index.vue","mtime":1640465303000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSwgV2F0Y2ggfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwppbXBvcnQgeyBSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInCmltcG9ydCB7IERpY3Rpb25hcnkgfSBmcm9tICd2dWUtcm91dGVyL3R5cGVzL3JvdXRlcicKaW1wb3J0IHsgRm9ybSBhcyBFbEZvcm0sIElucHV0IH0gZnJvbSAnZWxlbWVudC11aScKaW1wb3J0IHsgVXNlck1vZHVsZSB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy91c2VyJwppbXBvcnQgeyBpc1ZhbGlkVXNlcm5hbWUgfSBmcm9tICdAL3V0aWxzL3ZhbGlkYXRlJwppbXBvcnQgTGFuZ1NlbGVjdCBmcm9tICdAL2NvbXBvbmVudHMvTGFuZ1NlbGVjdC9pbmRleC52dWUnCmltcG9ydCBTb2NpYWxTaWduIGZyb20gJy4vY29tcG9uZW50cy9Tb2NpYWxTaWduaW4udnVlJwoKQENvbXBvbmVudCh7CiAgbmFtZTogJ0xvZ2luJywKICBjb21wb25lbnRzOiB7CiAgICBMYW5nU2VsZWN0LAogICAgU29jaWFsU2lnbgogIH0KfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBWdWUgewogIHByaXZhdGUgdmFsaWRhdGVVc2VybmFtZSA9IChydWxlOiBhbnksIHZhbHVlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gewogICAgaWYgKCFpc1ZhbGlkVXNlcm5hbWUodmFsdWUpKSB7CiAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignUGxlYXNlIGVudGVyIHRoZSBjb3JyZWN0IHVzZXIgbmFtZScpKQogICAgfSBlbHNlIHsKICAgICAgY2FsbGJhY2soKQogICAgfQogIH0KCiAgcHJpdmF0ZSB2YWxpZGF0ZVBhc3N3b3JkID0gKHJ1bGU6IGFueSwgdmFsdWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKSA9PiB7CiAgICBpZiAodmFsdWUubGVuZ3RoIDwgMykgewogICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1RoZSBwYXNzd29yZCBjYW4gbm90IGJlIGxlc3MgdGhhbiA2IGRpZ2l0cycpKQogICAgfSBlbHNlIHsKICAgICAgY2FsbGJhY2soKQogICAgfQogIH0KCiAgcHJpdmF0ZSBsb2dpbkZvcm0gPSB7CiAgICB1c2VybmFtZTogJ2FkbWluJywKICAgIHBhc3N3b3JkOiAnYWRtaW4nCiAgfQoKICBwcml2YXRlIGxvZ2luUnVsZXMgPSB7CiAgICB1c2VybmFtZTogW3sgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlVXNlcm5hbWUsIHRyaWdnZXI6ICdibHVyJyB9XSwKICAgIHBhc3N3b3JkOiBbeyB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVQYXNzd29yZCwgdHJpZ2dlcjogJ2JsdXInIH1dCiAgfQoKICBwcml2YXRlIHBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCcKICBwcml2YXRlIGxvYWRpbmcgPSBmYWxzZQogIHByaXZhdGUgc2hvd0RpYWxvZyA9IGZhbHNlCiAgcHJpdmF0ZSBjYXBzVG9vbHRpcCA9IGZhbHNlCiAgcHJpdmF0ZSByZWRpcmVjdD86IHN0cmluZwogIHByaXZhdGUgb3RoZXJRdWVyeTogRGljdGlvbmFyeTxzdHJpbmc+ID0ge30KCiAgQFdhdGNoKCckcm91dGUnLCB7IGltbWVkaWF0ZTogdHJ1ZSB9KQogIHByaXZhdGUgb25Sb3V0ZUNoYW5nZShyb3V0ZTogUm91dGUpIHsKICAgIC8vIFRPRE86IHJlbW92ZSB0aGUgImFzIERpY3Rpb25hcnk8c3RyaW5nPiIgaGFjayBhZnRlciB2NCByZWxlYXNlIGZvciB2dWUtcm91dGVyCiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1yb3V0ZXIvcHVsbC8yMDUwIGZvciBkZXRhaWxzCiAgICBjb25zdCBxdWVyeSA9IHJvdXRlLnF1ZXJ5IGFzIERpY3Rpb25hcnk8c3RyaW5nPgogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIHRoaXMucmVkaXJlY3QgPSBxdWVyeS5yZWRpcmVjdAogICAgICB0aGlzLm90aGVyUXVlcnkgPSB0aGlzLmdldE90aGVyUXVlcnkocXVlcnkpCiAgICB9CiAgfQoKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMubG9naW5Gb3JtLnVzZXJuYW1lID09PSAnJykgewogICAgICAodGhpcy4kcmVmcy51c2VybmFtZSBhcyBJbnB1dCkuZm9jdXMoKQogICAgfSBlbHNlIGlmICh0aGlzLmxvZ2luRm9ybS5wYXNzd29yZCA9PT0gJycpIHsKICAgICAgKHRoaXMuJHJlZnMucGFzc3dvcmQgYXMgSW5wdXQpLmZvY3VzKCkKICAgIH0KICB9CgogIHByaXZhdGUgY2hlY2tDYXBzbG9jayhlOiBLZXlib2FyZEV2ZW50KSB7CiAgICBjb25zdCB7IGtleSB9ID0gZQogICAgdGhpcy5jYXBzVG9vbHRpcCA9IGtleSAhPT0gbnVsbCAmJiBrZXkubGVuZ3RoID09PSAxICYmIChrZXkgPj0gJ0EnICYmIGtleSA8PSAnWicpCiAgfQoKICBwcml2YXRlIHNob3dQd2QoKSB7CiAgICBpZiAodGhpcy5wYXNzd29yZFR5cGUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAnJwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5wYXNzd29yZFR5cGUgPSAncGFzc3dvcmQnCiAgICB9CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICh0aGlzLiRyZWZzLnBhc3N3b3JkIGFzIElucHV0KS5mb2N1cygpCiAgICB9KQogIH0KCiAgcHJpdmF0ZSBoYW5kbGVMb2dpbigpIHsKICAgICh0aGlzLiRyZWZzLmxvZ2luRm9ybSBhcyBFbEZvcm0pLnZhbGlkYXRlKGFzeW5jKHZhbGlkOiBib29sZWFuKSA9PiB7CiAgICAgIGlmICh2YWxpZCkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgVXNlck1vZHVsZS5Mb2dpbih0aGlzLmxvZ2luRm9ybSkKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogdGhpcy5yZWRpcmVjdCB8fCAnLycsCiAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLm90aGVyUXVlcnkKICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9KQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9KQogIH0KCiAgcHJpdmF0ZSBnZXRPdGhlclF1ZXJ5KHF1ZXJ5OiBEaWN0aW9uYXJ5PHN0cmluZz4pIHsKICAgIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChhY2MsIGN1cikgPT4gewogICAgICBpZiAoY3VyICE9PSAncmVkaXJlY3QnKSB7CiAgICAgICAgYWNjW2N1cl0gPSBxdWVyeVtjdXJdCiAgICAgIH0KICAgICAgcmV0dXJuIGFjYwogICAgfSwge30gYXMgRGljdGlvbmFyeTxzdHJpbmc+KQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\n  <div class=\"login-container\">\n    <div class=\"image-container\">\n      <img src=\"@/assets/images/cuet-logo.png\" alt=\"cuet-logo\" />\n    </div>\n    <div>\n      <p class=\"app-heading\">{{$t('config.name')}}</p>\n    </div>\n    <el-form\n      ref=\"loginForm\"\n      :model=\"loginForm\"\n      :rules=\"loginRules\"\n      class=\"login-form\"\n      autocomplete=\"on\"\n      label-position=\"left\"\n    >\n      <div class=\"title-container\">\n        <h3 class=\"title\">\n          {{ $t('login.title') }}\n        </h3>\n        <lang-select class=\"set-language\" />\n      </div>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container\">\n          <svg-icon name=\"user\" />\n        </span>\n        <el-input\n          ref=\"username\"\n          v-model=\"loginForm.username\"\n          :placeholder=\"$t('login.username')\"\n          name=\"username\"\n          type=\"text\"\n          tabindex=\"1\"\n          autocomplete=\"on\"\n        />\n      </el-form-item>\n\n      <el-tooltip\n        v-model=\"capsTooltip\"\n        content=\"Caps lock is On\"\n        placement=\"right\"\n        manual\n      >\n        <el-form-item prop=\"password\">\n          <span class=\"svg-container\">\n            <svg-icon name=\"password\" />\n          </span>\n          <el-input\n            :key=\"passwordType\"\n            ref=\"password\"\n            v-model=\"loginForm.password\"\n            :type=\"passwordType\"\n            :placeholder=\"$t('login.password')\"\n            name=\"password\"\n            tabindex=\"2\"\n            autocomplete=\"on\"\n            @keyup.native=\"checkCapslock\"\n            @blur=\"capsTooltip = false\"\n            @keyup.enter.native=\"handleLogin\"\n          />\n          <span\n            class=\"show-pwd\"\n            @click=\"showPwd\"\n          >\n            <svg-icon :name=\"passwordType === 'password' ? 'eye-off' : 'eye-on'\" />\n          </span>\n        </el-form-item>\n      </el-tooltip>\n\n      <el-button\n        :loading=\"loading\"\n        type=\"primary\"\n        style=\"width:100%; margin-bottom:30px;\"\n        @click.native.prevent=\"handleLogin\"\n      >\n        {{ $t('login.logIn') }}\n      </el-button>\n\n      <!-- <div style=\"position:relative\">\n        <div class=\"tips\">\n          <span>{{ $t('login.username') }} : admin </span>\n          <span>{{ $t('login.password') }} : {{ $t('login.any') }} </span>\n        </div>\n        <div class=\"tips\">\n          <span>{{ $t('login.username') }} : editor </span>\n          <span>{{ $t('login.password') }} : {{ $t('login.any') }} </span>\n        </div>\n\n        <el-button\n          class=\"thirdparty-button\"\n          type=\"primary\"\n          @click=\"showDialog=true\"\n        >\n          {{ $t('login.thirdparty') }}\n        </el-button>\n      </div> -->\n    </el-form>\n\n    <el-dialog\n      :title=\"$t('login.thirdparty')\"\n      :visible.sync=\"showDialog\"\n    >\n      {{ $t('login.thirdpartyTips') }}\n      <br>\n      <br>\n      <br>\n      <social-sign />\n    </el-dialog>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { Route } from 'vue-router'\nimport { Dictionary } from 'vue-router/types/router'\nimport { Form as ElForm, Input } from 'element-ui'\nimport { UserModule } from '@/store/modules/user'\nimport { isValidUsername } from '@/utils/validate'\nimport LangSelect from '@/components/LangSelect/index.vue'\nimport SocialSign from './components/SocialSignin.vue'\n\n@Component({\n  name: 'Login',\n  components: {\n    LangSelect,\n    SocialSign\n  }\n})\nexport default class extends Vue {\n  private validateUsername = (rule: any, value: string, callback: Function) => {\n    if (!isValidUsername(value)) {\n      callback(new Error('Please enter the correct user name'))\n    } else {\n      callback()\n    }\n  }\n\n  private validatePassword = (rule: any, value: string, callback: Function) => {\n    if (value.length < 3) {\n      callback(new Error('The password can not be less than 6 digits'))\n    } else {\n      callback()\n    }\n  }\n\n  private loginForm = {\n    username: 'admin',\n    password: 'admin'\n  }\n\n  private loginRules = {\n    username: [{ validator: this.validateUsername, trigger: 'blur' }],\n    password: [{ validator: this.validatePassword, trigger: 'blur' }]\n  }\n\n  private passwordType = 'password'\n  private loading = false\n  private showDialog = false\n  private capsTooltip = false\n  private redirect?: string\n  private otherQuery: Dictionary<string> = {}\n\n  @Watch('$route', { immediate: true })\n  private onRouteChange(route: Route) {\n    // TODO: remove the \"as Dictionary<string>\" hack after v4 release for vue-router\n    // See https://github.com/vuejs/vue-router/pull/2050 for details\n    const query = route.query as Dictionary<string>\n    if (query) {\n      this.redirect = query.redirect\n      this.otherQuery = this.getOtherQuery(query)\n    }\n  }\n\n  mounted() {\n    if (this.loginForm.username === '') {\n      (this.$refs.username as Input).focus()\n    } else if (this.loginForm.password === '') {\n      (this.$refs.password as Input).focus()\n    }\n  }\n\n  private checkCapslock(e: KeyboardEvent) {\n    const { key } = e\n    this.capsTooltip = key !== null && key.length === 1 && (key >= 'A' && key <= 'Z')\n  }\n\n  private showPwd() {\n    if (this.passwordType === 'password') {\n      this.passwordType = ''\n    } else {\n      this.passwordType = 'password'\n    }\n    this.$nextTick(() => {\n      (this.$refs.password as Input).focus()\n    })\n  }\n\n  private handleLogin() {\n    (this.$refs.loginForm as ElForm).validate(async(valid: boolean) => {\n      if (valid) {\n        this.loading = true\n        try {\n          await UserModule.Login(this.loginForm)\n          this.$router.push({\n            path: this.redirect || '/',\n            query: this.otherQuery\n          }).catch(err => {\n            console.warn(err)\n            this.loading = false\n          })\n        } catch (e) {\n          this.loading = false\n        }\n      } else {\n        return false\n      }\n    })\n  }\n\n  private getOtherQuery(query: Dictionary<string>) {\n    return Object.keys(query).reduce((acc, cur) => {\n      if (cur !== 'redirect') {\n        acc[cur] = query[cur]\n      }\n      return acc\n    }, {} as Dictionary<string>)\n  }\n}\n</script>\n\n<style lang=\"scss\">\n// References: https://www.zhangxinxu.com/wordpress/2018/01/css-caret-color-first-line/\n@supports (-webkit-mask: none) and (not (cater-color: $loginCursorColor)) {\n  .login-container .el-input {\n    input { color: $loginCursorColor; }\n    input::first-line { color: $lightGray; }\n  }\n}\n\n.login-container {\n  .el-input {\n    display: inline-block;\n    height: 47px;\n    width: 85%;\n\n    input {\n      height: 47px;\n      background: transparent;\n      border: 0px;\n      border-radius: 0px;\n      padding: 12px 5px 12px 15px;\n      color: $lightGray;\n      caret-color: $loginCursorColor;\n      -webkit-appearance: none;\n\n      &:-webkit-autofill {\n        box-shadow: 0 0 0px 1000px $loginBg inset !important;\n        -webkit-text-fill-color: #fff !important;\n      }\n    }\n  }\n\n  .el-form-item {\n    border: 1px solid rgba(255, 255, 255, 0.1);\n    background: rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    color: #454545;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.login-container {\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  background-color: $loginBg;\n\n  .app-heading {\n    font-size: 25px;\n    text-align: center;\n    color: white;\n  }\n\n  .login-form {\n    position: relative;\n    width: 520px;\n    max-width: 100%;\n    padding: 30px 35px 0;\n    margin: 0 auto;\n    overflow: hidden;\n  }\n\n  .tips {\n    font-size: 14px;\n    color: #fff;\n    margin-bottom: 10px;\n\n    span {\n      &:first-of-type {\n        margin-right: 16px;\n      }\n    }\n  }\n\n  .svg-container {\n    padding: 6px 5px 6px 15px;\n    color: $darkGray;\n    vertical-align: middle;\n    width: 30px;\n    display: inline-block;\n  }\n\n  .image-container {\n    position: relative;\n    text-align: center;\n    padding: 100px 35px 0;\n    img {\n      height: 250px;\n      width: 200px;\n    }\n  }\n\n  .title-container {\n    position: relative;\n\n    .title {\n      font-size: 26px;\n      color: $lightGray;\n      margin: 0px auto 40px auto;\n      text-align: center;\n      font-weight: bold;\n    }\n\n    .set-language {\n      color: #fff;\n      position: absolute;\n      top: 3px;\n      font-size: 18px;\n      right: 0px;\n      cursor: pointer;\n    }\n  }\n\n  .show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: $darkGray;\n    cursor: pointer;\n    user-select: none;\n  }\n\n  .thirdparty-button {\n    position: absolute;\n    right: 0;\n    bottom: 6px;\n  }\n\n  @media only screen and (max-width: 470px) {\n    .thirdparty-button {\n      display: none;\n    }\n  }\n}\n</style>\n"]}]}