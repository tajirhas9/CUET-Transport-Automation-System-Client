{"remainingRequest":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tajirhas9/varsity/software_engineering/ctas/client/src/layout/components/TagsView/ScrollPane.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/src/layout/components/TagsView/ScrollPane.vue","mtime":1640465303000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/tajirhas9/varsity/software_engineering/ctas/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJwoKY29uc3QgdGFnU3BhY2luZyA9IDQKCkBDb21wb25lbnQoewogIG5hbWU6ICdTY3JvbGxQYW5lJwp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBleHRlbmRzIFZ1ZSB7CiAgZ2V0IHNjcm9sbFdyYXBwZXIoKSB7CiAgICByZXR1cm4gKHRoaXMuJHJlZnMuc2Nyb2xsQ29udGFpbmVyIGFzIFZ1ZSkuJHJlZnMud3JhcCBhcyBIVE1MRWxlbWVudAogIH0KCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2Nyb2xsV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmVtaXRTY3JvbGwsIHRydWUpCiAgfQoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy5zY3JvbGxXcmFwcGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuZW1pdFNjcm9sbCkKICB9CgogIHByaXZhdGUgaGFuZGxlU2Nyb2xsKGU6IFdoZWVsRXZlbnQpIHsKICAgIGNvbnN0IGV2ZW50RGVsdGEgPSAoZSBhcyBhbnkpLndoZWVsRGVsdGEgfHwgLWUuZGVsdGFZICogNDAKICAgIGNvbnN0IHNjcm9sbFdyYXBwZXIgPSB0aGlzLnNjcm9sbFdyYXBwZXIKICAgIHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCArIGV2ZW50RGVsdGEgLyA0CiAgfQoKICBwcml2YXRlIGVtaXRTY3JvbGwoKSB7CiAgICB0aGlzLiRlbWl0KCdzY3JvbGwnKQogIH0KCiAgcHVibGljIG1vdmVUb1RhcmdldChjdXJyZW50VGFnOiBIVE1MRWxlbWVudCkgewogICAgY29uc3QgY29udGFpbmVyID0gKHRoaXMuJHJlZnMuc2Nyb2xsQ29udGFpbmVyIGFzIFZ1ZSkuJGVsIGFzIEhUTUxFbGVtZW50CiAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IGNvbnRhaW5lci5vZmZzZXRXaWR0aAogICAgY29uc3Qgc2Nyb2xsV3JhcHBlciA9IHRoaXMuc2Nyb2xsV3JhcHBlcgogICAgY29uc3QgdGFnTGlzdCA9IHRoaXMuJHBhcmVudC4kcmVmcy50YWcgYXMgYW55W10KCiAgICBsZXQgZmlyc3RUYWcgPSBudWxsCiAgICBsZXQgbGFzdFRhZyA9IG51bGwKCiAgICAvLyBmaW5kIGZpcnN0IHRhZyBhbmQgbGFzdCB0YWcKICAgIGlmICh0YWdMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgZmlyc3RUYWcgPSB0YWdMaXN0WzBdCiAgICAgIGxhc3RUYWcgPSB0YWdMaXN0W3RhZ0xpc3QubGVuZ3RoIC0gMV0KICAgIH0KCiAgICBpZiAoZmlyc3RUYWcgPT09IGN1cnJlbnRUYWcpIHsKICAgICAgc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gMAogICAgfSBlbHNlIGlmIChsYXN0VGFnID09PSBjdXJyZW50VGFnKSB7CiAgICAgIHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IHNjcm9sbFdyYXBwZXIuc2Nyb2xsV2lkdGggLSBjb250YWluZXJXaWR0aAogICAgfSBlbHNlIHsKICAgICAgLy8gZmluZCBwcmVUYWcgYW5kIG5leHRUYWcKICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gdGFnTGlzdC5maW5kSW5kZXgoaXRlbSA9PiBpdGVtID09PSBjdXJyZW50VGFnKQogICAgICBjb25zdCBwcmV2VGFnID0gdGFnTGlzdFtjdXJyZW50SW5kZXggLSAxXQogICAgICBjb25zdCBuZXh0VGFnID0gdGFnTGlzdFtjdXJyZW50SW5kZXggKyAxXQogICAgICAvLyB0aGUgdGFnJ3Mgb2Zmc2V0TGVmdCBhZnRlciBvZiBuZXh0VGFnCiAgICAgIGNvbnN0IGFmdGVyTmV4dFRhZ09mZnNldExlZnQgPSBuZXh0VGFnLiRlbC5vZmZzZXRMZWZ0ICsgbmV4dFRhZy4kZWwub2Zmc2V0V2lkdGggKyB0YWdTcGFjaW5nCiAgICAgIC8vIHRoZSB0YWcncyBvZmZzZXRMZWZ0IGJlZm9yZSBvZiBwcmV2VGFnCiAgICAgIGNvbnN0IGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0ID0gcHJldlRhZy4kZWwub2Zmc2V0TGVmdCAtIHRhZ1NwYWNpbmcKCiAgICAgIGlmIChhZnRlck5leHRUYWdPZmZzZXRMZWZ0ID4gc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ICsgY29udGFpbmVyV2lkdGgpIHsKICAgICAgICBzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBhZnRlck5leHRUYWdPZmZzZXRMZWZ0IC0gY29udGFpbmVyV2lkdGgKICAgICAgfSBlbHNlIGlmIChiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdCA8IHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCkgewogICAgICAgIHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IGJlZm9yZVByZXZUYWdPZmZzZXRMZWZ0CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["ScrollPane.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScrollPane.vue","sourceRoot":"src/layout/components/TagsView","sourcesContent":["<template>\n  <el-scrollbar\n    ref=\"scrollContainer\"\n    :vertical=\"false\"\n    class=\"scroll-container\"\n    @wheel.native.prevent=\"handleScroll\"\n  >\n    <slot />\n  </el-scrollbar>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue } from 'vue-property-decorator'\n\nconst tagSpacing = 4\n\n@Component({\n  name: 'ScrollPane'\n})\nexport default class extends Vue {\n  get scrollWrapper() {\n    return (this.$refs.scrollContainer as Vue).$refs.wrap as HTMLElement\n  }\n\n  mounted() {\n    this.scrollWrapper.addEventListener('scroll', this.emitScroll, true)\n  }\n\n  beforeDestroy() {\n    this.scrollWrapper.removeEventListener('scroll', this.emitScroll)\n  }\n\n  private handleScroll(e: WheelEvent) {\n    const eventDelta = (e as any).wheelDelta || -e.deltaY * 40\n    const scrollWrapper = this.scrollWrapper\n    scrollWrapper.scrollLeft = scrollWrapper.scrollLeft + eventDelta / 4\n  }\n\n  private emitScroll() {\n    this.$emit('scroll')\n  }\n\n  public moveToTarget(currentTag: HTMLElement) {\n    const container = (this.$refs.scrollContainer as Vue).$el as HTMLElement\n    const containerWidth = container.offsetWidth\n    const scrollWrapper = this.scrollWrapper\n    const tagList = this.$parent.$refs.tag as any[]\n\n    let firstTag = null\n    let lastTag = null\n\n    // find first tag and last tag\n    if (tagList.length > 0) {\n      firstTag = tagList[0]\n      lastTag = tagList[tagList.length - 1]\n    }\n\n    if (firstTag === currentTag) {\n      scrollWrapper.scrollLeft = 0\n    } else if (lastTag === currentTag) {\n      scrollWrapper.scrollLeft = scrollWrapper.scrollWidth - containerWidth\n    } else {\n      // find preTag and nextTag\n      const currentIndex = tagList.findIndex(item => item === currentTag)\n      const prevTag = tagList[currentIndex - 1]\n      const nextTag = tagList[currentIndex + 1]\n      // the tag's offsetLeft after of nextTag\n      const afterNextTagOffsetLeft = nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagSpacing\n      // the tag's offsetLeft before of prevTag\n      const beforePrevTagOffsetLeft = prevTag.$el.offsetLeft - tagSpacing\n\n      if (afterNextTagOffsetLeft > scrollWrapper.scrollLeft + containerWidth) {\n        scrollWrapper.scrollLeft = afterNextTagOffsetLeft - containerWidth\n      } else if (beforePrevTagOffsetLeft < scrollWrapper.scrollLeft) {\n        scrollWrapper.scrollLeft = beforePrevTagOffsetLeft\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.scroll-container {\n  .el-scrollbar__bar {\n    bottom: 0px;\n  }\n\n  .el-scrollbar__wrap {\n    height: 49px;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n.scroll-container {\n  white-space: nowrap;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n}\n</style>\n"]}]}